<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Расписание занятий</title>
    <style>
        /* ===== BASE ===== */
        * {
            box-sizing: border-box;
        }

        :root {
            --bg: #f4f7fb;
            --card: #ffffff;
            --text: #2c2f33;
            --accent: #0d6efd;
            --accent-soft: #e7f1ff;
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Roboto', system-ui, -apple-system, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px;
            line-height: 1.65;
        }

        header {
            text-align: center;
            margin-bottom: 32px;
            padding: 28px 20px;
            background: linear-gradient(135deg, #0d6efd, #0a58ca);
            color: #fff;
            border-radius: 14px;
            box-shadow: 0 10px 30px rgba(13,110,253,0.25);
        }

        header p {
            margin-top: 8px;
            opacity: 0.9;
        }

        h1 {
            margin: 0;
            font-size: 2.2rem;
            font-weight: 700;
        }

        h2 {
            font-size: 1.6rem;
            color: #0d6efd;
            margin-bottom: 16px;
        }

        h3 {
            font-size: 1.25rem;
            color: #084298;
            margin: 0 0 12px;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 18px;
            margin-bottom: 30px;
        }

        .field {
            display: flex;
            flex-direction: column;
        }

        .field label {
            margin-bottom: 6px;
            font-weight: 600;
            opacity: .85;
        }

        select {
            width: 100%;
            max-width: 420px;
            padding: 14px 44px 14px 16px;
            border-radius: 12px;
            border: 1px solid #ced4da;
            font-size: 1rem;
            background-color: var(--card);
            cursor: pointer;
            transition: all .25s ease;
            appearance: none;
            background-image:
                linear-gradient(45deg, transparent 50%, var(--accent) 50%),
                linear-gradient(135deg, var(--accent) 50%, transparent 50%);
            background-position:
                calc(100% - 22px) calc(1em + 2px),
                calc(100% - 16px) calc(1em + 2px);
            background-size: 6px 6px;
            background-repeat: no-repeat;
            box-shadow: 0 4px 12px rgba(0,0,0,.08);
        }

        select:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 18px rgba(0,0,0,.12);
        }

        select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 25%, transparent);
        }

        select:not([value=""]) {
            border-left: 5px solid var(--accent);
        }

        .subject-block {
            background-color: var(--card);
            padding: 18px 20px;
            margin-bottom: 22px;
            border-radius: 14px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.08);
            transition: transform .2s ease, box-shadow .2s ease;
        }

        .subject-block:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 28px rgba(0,0,0,0.12);
        }

        /* Стили для нового формата расписания по дням */
        .subject-block h4 {
            font-size: 1.15rem;
            color: #0d6efd;
            margin: 20px 0 10px;
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 6px;
        }

        .subject-block ul {
            list-style: none;
            padding: 0;
            margin: 0 0 20px;
        }

        .subject-block li {
            padding: 12px 16px;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #e7f1ff, #f4f8ff);
            border-radius: 10px;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .subject-block li strong {
            min-width: 110px;
            color: #084298;
        }

        /* Мобильная адаптация */
        @media (max-width: 768px) {
            body {
                padding: 16px;
            }

            header {
                padding: 20px 16px;
            }

            h1 {
                font-size: 1.8rem;
            }

            .controls {
                grid-template-columns: 1fr;
            }

            select {
                max-width: 100%;
            }
        }

        [data-theme="dark"] {
            --bg: #121417;
            --card: #1e2228;
            --text: #e9ecef;
            --accent: #4dabf7;
            --accent-soft: #1c2a3a;
        }
    </style>
</head>
<body>

    <header>
        <h1>Расписание для учеников</h1>
        <p>Выберите группу, затем имя для индивидуального расписания.</p>
    </header>

    <main>
        <section id="group-selector" class="controls">
            <div class="field">
                <label for="group">Выберите группу:</label>
                <select id="group" onchange="updateNames()">
                    <option value="">-- Выберите --</option>
                    <option value="group1">Группа 1</option>
                    <option value="group2">Группа 2</option>
                    <option value="group3">Группа 3</option>
                    <option value="group4">Группа 4</option>
                    <option value="group5">Группа 5</option>
                </select>
            </div>
        </section>

        <section id="name-selector" class="controls" style="display: none;">
            <div class="field">
                <label for="name">Выберите имя:</label>
                <select id="name" onchange="showSchedule()">
                    <option value="">-- Выберите --</option>
                </select>
            </div>
        </section>

        <section id="schedule" style="display: none;">
            <h2>Расписание для <span id="selected-name"></span></h2>
            <div id="schedule-content"></div>
        </section>
    </main>

    <script>
        const data = {
            groups: {
                group1: ["Zhykhor Viacheslav", "Melnychenko Tetiana", "Ballakh Vladyslav", "Borysenko Yehor", "Bulatov Mykyta", "Holubko Kira", "Huk Hlib", "Hustii Kristina", "Chernysh Oleh", "Iatchmenev Lin", "Kostenko Valerii", "Maslova Inna", "Muzychenko Nikita", "Pylypchuk Daria", "Shulzhenko Herman", "Zaichenko Yeva"],
                group2: ["Datsenko Dmytro", "Hlushko Yaroslav", "Inozemtseva Daria", "Kovalchuk Tymofii", "Lazurko Leonid", "Lisitsyna Kateryna", "Maksymenko Kyryl", "Margat Abzal", "Nehoda Volodymyr", "Prishchepa Herman", "Silenko Vladyslava", "Stupak Bohdan", "Sukhanov Roman", "Tileules Meirman", "Tulegenov Yelnur", "Zaichenko Andrii"],
                group3: ["Bezhanov-Fam Kristian", "Bilak Yurii", "Hannochka Nikita", "Hatsenko Danylo", "Hrybenko Volodymyr", "Chirka Andrii", "Ihnatiev Dmytrii", "Mandzyk Lev-Yurii", "Minin Denys", "Mykhailenko Bohdan", "Orlov Yehor", "Sevruk Anastasiia", "Shyian Maksym", "Smyrnov Viktor", "Strelnikov Tymur", "Yarmulska Stefaniia", "Zaikin Oleksandr", "Zaikin Oleksii"],
                group4: ["Andriushchenko Daryna", "Huhnin Rodion", "Kolisnichenko Illia", "Korolskyi Mykyta", "Kryvenko Yaroslav", "Kulyk Oleksii", "Luhanskyi Maksym", "Mai Vitalii", "Makarov Maksym", "Marushchak Oleksandr", "Minieiev Maksym", "Navytaniuk Nazar", "Panikhidin Oleksii", "Peretiatko Daniil", "Petryk Artem", "Tarasenko Daniil", "Torianyk Andrii", "Yurkiv Illia"],
                group5: ["Bachynskyi Serhii", "Baranets Daniil", "Biehov Artem", "Bilyk Oleksandr", "Bondarenko Daniela", "Hudyria Denys", "Kapustianskyi Hlib", "Koryachenko Davyd", "Kozachok Yehor", "Natanov Pavlo", "Panasenko Yaroslav", "Perederii Sofia", "Petrenko Mariia", "Rezniuk Mykhailo", "Shykhalov Mykyta", "Sichkarenko Nazar", "Sinchenko Ivan", "Skubchenko Oleh"]
            },
            subjects: {
                "Czech Language Group 1": {
                    students: ["Zhykhor Viacheslav", "Melnychenko Tetiana", "Ballakh Vladyslav", "Borysenko Yehor", "Bulatov Mykyta", "Holubko Kira", "Huk Hlib", "Hustii Kristina", "Chernysh Oleh", "Iatchmenev Lin", "Kostenko Valerii", "Maslova Inna", "Muzychenko Nikita", "Pylypchuk Daria", "Shulzhenko Herman", "Zaichenko Yeva"],
                    dates: [],
                    name: "Czech Language Group 1",
                    schedule: [
                        {time: "8.30 - 10.00", days: {Monday: "gramatika - Linhartová", Tuesday: "gramatika - Dvořáková", Wednesday: "gramatika - Formánková", Friday: "gramatika - Nekovářová"}},
                        {time: "10.15 - 11.00", days: {Monday: "pravopis, gramatika - testy - Linhartová", Tuesday: "pravopis, gramatika - testy - Dvořáková", Wednesday: "pravopis, gramatika - testy - Formánková", Friday: "pravopis, gramatika - testy - Nekovářová"}},
                        {time: "11.10 - 12.40", days: {Monday: "konverzace - Linhartová", Tuesday: "konverzace - Dvořáková", Wednesday: "konverzace - Formánková", Friday: "konverzace - Nekovářová"}},
                        {time: "13.00 - 14.30", days: {Thursday: "gramatika - Krygarová"}},
                        {time: "13.30-15.00", days: {Friday: "četba, konverzace - Tlapová"}},
                        {time: "14.00 - 15.30", days: {Wednesday: "příprava CCE - Kadlecová"}},
                        {time: "14.45 - 15.30", days: {Thursday: "pravopis, gramatika - testy - Krygarová"}},
                        {time: "15.40 - 17.10", days: {Thursday: "konverzace - Krygarová"}}
                    ]
                },
                "Czech Language Group 2": {
                    students: ["Datsenko Dmytro", "Hlushko Yaroslav", "Inozemtseva Daria", "Kovalchuk Tymofii", "Lazurko Leonid", "Lisitsyna Kateryna", "Maksymenko Kyryl", "Margat Abzal", "Nehoda Volodymyr", "Prishchepa Herman", "Silenko Vladyslava", "Stupak Bohdan", "Sukhanov Roman", "Tileules Meirman", "Tulegenov Yelnur", "Zaichenko Andrii"],
                    dates: [],
                    name: "Czech Language Group 2",
                    schedule: [
                        {time: "8.30 - 10.00", days: {Monday: "gramatika", Wednesday: "gramatika", Thursday: "gramatika", Friday: "gramatika"}},
                        {time: "10.15 - 11.00", days: {Monday: "pravopis, gramatika - testy", Wednesday: "pravopis, gramatika - testy", Thursday: "pravopis, gramatika - testy", Friday: "pravopis, gramatika - testy"}},
                        {time: "11.10 - 12.40", days: {Monday: "konverzace", Wednesday: "konverzace", Thursday: "konverzace", Friday: "konverzace"}},
                        {time: "13.00 - 14.30", days: {Monday: "příprava CCE", Tuesday: "gramatika"}},
                        {time: "14.45-16.15", days: {Thursday: "adaptovaná četba"}},
                        {time: "14.45 - 15.30", days: {Tuesday: "pravopis, gramatika - testy"}},
                        {time: "15.40 - 17.10", days: {Tuesday: "konverzace"}}
                    ]
                },
                "Czech Language Group 3": {
                    students: ["Bezhanov-Fam Kristian", "Bilak Yurii", "Hannochka Nikita", "Hatsenko Danylo", "Hrybenko Volodymyr", "Chirka Andrii", "Ihnatiev Dmytrii", "Mandzyk Lev-Yurii", "Minin Denys", "Mykhailenko Bohdan", "Orlov Yehor", "Sevruk Anastasiia", "Shyian Maksym", "Smyrnov Viktor", "Strelnikov Tymur", "Yarmulska Stefaniia", "Zaikin Oleksandr", "Zaikin Oleksii"],
                    dates: [],
                    name: "Czech Language Group 3",
                    schedule: [
                        {time: "8.30 - 10.00", days: {Tuesday: "gramatika", Wednesday: "gramatika", Thursday: "gramatika", Friday: "gramatika"}},
                        {time: "10.15 - 11.00", days: {Tuesday: "pravopis, gramatika - testy", Wednesday: "pravopis, gramatika - testy", Thursday: "pravopis, gramatika - testy", Friday: "pravopis, gramatika - testy"}},
                        {time: "11.10 - 12.40", days: {Tuesday: "konverzace", Wednesday: "konverzace", Thursday: "konverzace", Friday: "konverzace"}},
                        {time: "13.00 - 14.30", days: {Monday: "gramatika", Thursday: "adaptovaná četba"}},
                        {time: "14.45 - 15.30", days: {Monday: "pravopis, gramatika - testy"}},
                        {time: "14.45 - 16.15", days: {Monday: "příprava CCE"}},
                        {time: "15.40 - 17.10.", days: {Monday: "konverzace"}}
                    ]
                },
                "Czech Language Group 4": {
                    students: ["Andriushchenko Daryna", "Huhnin Rodion", "Kolisnichenko Illia", "Korolskyi Mykyta", "Kryvenko Yaroslav", "Kulyk Oleksii", "Luhanskyi Maksym", "Mai Vitalii", "Makarov Maksym", "Marushchak Oleksandr", "Minieiev Maksym", "Navytaniuk Nazar", "Panikhidin Oleksii", "Peretiatko Daniil", "Petryk Artem", "Tarasenko Daniil", "Torianyk Andrii", "Yurkiv Illia"],
                    dates: [],
                    name: "Czech Language Group 4",
                    schedule: [
                        {time: "8.30 - 10.00", days: {Monday: "gramatika - Horneková"}},
                        {time: "10.15 - 11.00", days: {Monday: "pravopis, gramatika - testy - Horneková"}},
                        {time: "11.10 - 12.40", days: {Monday: "konverzace - Horneková"}},
                        {time: "13.00 - 14.30", days: {Tuesday: "gramatika - Kadlecová", Wednesday: "gramatika - Valentová", Thursday: "gramatika - Kadlecová", Friday: "gramatika - Mazurová"}},
                        {time: "14.45 - 15.30", days: {Tuesday: "pravopis, gramatika - testy - Kadlecová", Wednesday: "pravopis, gramatika - testy - Nekovářová", Thursday: "pravopis, gramatika - testy - Kadlecová", Friday: "pravopis, gramatika - testy - Mazurová"}},
                        {time: "15.40 - 17.10.", days: {Tuesday: "konverzace - Kadlecová", Wednesday: "konverzace - Kadlecová", Thursday: "konverzace - Kadlecová", Friday: "konverzace - Mazurová"}}
                    ]
                },
                "Czech Language Group 5": {
                    students: ["Bachynskyi Serhii", "Baranets Daniil", "Biehov Artem", "Bilyk Oleksandr", "Bondarenko Daniela", "Hudyria Denys", "Kapustianskyi Hlib", "Koryachenko Davyd", "Kozachok Yehor", "Natanov Pavlo", "Panasenko Yaroslav", "Perederii Sofia", "Petrenko Mariia", "Rezniuk Mykhailo", "Shykhalov Mykyta", "Sichkarenko Nazar", "Sinchenko Ivan", "Skubchenko Oleh"],
                    dates: [],
                    name: "Czech Language Group 5",
                    schedule: [
                        {time: "8.30 - 10.00", days: {Tuesday: "gramatika", Thursday: "gramatika"}},
                        {time: "10.15 - 11.00", days: {Tuesday: "pravopis, gramatika - testy", Thursday: "pravopis, gramatika - testy"}},
                        {time: "11.10 - 12.40", days: {Tuesday: "Linhartová", Thursday: "Linhartová"}},
                        {time: "13.00 - 14.30", days: {Monday: "gramatika", Wednesday: "gramatika", Friday: "gramatika"}},
                        {time: "14.45 - 15.30", days: {Monday: "pravopis, gramatika - testy", Wednesday: "pravopis, gramatika - testy", Friday: "pravopis, gramatika - testy"}},
                        {time: "15.40 - 17.10.", days: {Monday: "konverzace", Wednesday: "konverzace", Friday: "konverzace"}},
                        {time: "17.20 - 18.50", days: {Monday: "adaptovaná četba", Wednesday: "příprava CCE"}}
                    ]
                }
                // сюда можно добавить остальные предметы позже
            }
        };

        function updateNames() {
            const groupSelect = document.getElementById('group');
            const nameSelect = document.getElementById('name');
            const group = groupSelect.value;
            nameSelect.innerHTML = '<option value="">-- Выберите --</option>';
            if (group) {
                data.groups[group].sort().forEach(name => {
                    const option = document.createElement('option');
                    option.value = name;
                    option.textContent = name;
                    nameSelect.appendChild(option);
                });
                document.getElementById('name-selector').style.display = 'block';
            } else {
                document.getElementById('name-selector').style.display = 'none';
                document.getElementById('schedule').style.display = 'none';
            }
        }

        function showSchedule() {
            const name = document.getElementById('name').value;
            if (!name) {
                document.getElementById('schedule').style.display = 'none';
                return;
            }

            document.getElementById('selected-name').textContent = name;
            const content = document.getElementById('schedule-content');
            content.innerHTML = '';

            Object.keys(data.subjects).forEach(subjKey => {
                const subj = data.subjects[subjKey];
                if (subj.students.includes(name)) {
                    const div = document.createElement('div');
                    div.className = 'subject-block';
                    div.innerHTML = `<h3>${subj.name}</h3>`;

                    if (subj.schedule && subj.schedule.length > 0) {
                        const daysOrder = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];
                        const dayNames = {
                            Monday: 'Понедельник',
                            Tuesday: 'Вторник',
                            Wednesday: 'Среда',
                            Thursday: 'Четверг',
                            Friday: 'Пятница'
                        };

                        // Собираем все уникальные дни
                        const uniqueDays = new Set();
                        subj.schedule.forEach(slot => {
                            Object.keys(slot.days).forEach(day => uniqueDays.add(day));
                        });

                        // Группируем по дням
                        const scheduleByDay = {};
                        daysOrder.forEach(day => {
                            if (uniqueDays.has(day)) {
                                scheduleByDay[day] = subj.schedule
                                    .filter(slot => slot.days[day])
                                    .map(slot => ({ time: slot.time, lesson: slot.days[day] }));
                            }
                        });

                        // Выводим по дням
                        let scheduleHtml = '';
                        Object.keys(scheduleByDay).forEach(day => {
                            scheduleHtml += `<h4>${dayNames[day]}</h4><ul>`;
                            scheduleByDay[day].forEach(item => {
                                scheduleHtml += `<li><strong>${item.time}</strong> ${item.lesson}</li>`;
                            });
                            scheduleHtml += `</ul>`;
                        });

                        div.innerHTML += scheduleHtml || '<p>Нет занятий в расписании.</p>';
                    } else if (subj.dates && subj.dates.length > 0) {
                        const ul = document.createElement('ul');
                        subj.dates
                            .sort((a, b) => {
                                const parse = str => {
                                    const [datePart, timePart] = str.split(' ');
                                    const [day, month, year] = datePart.split('.').map(Number);
                                    const [hours, minutes] = timePart.split('-')[0].split(':').map(Number);
                                    return new Date(year, month - 1, day, hours, minutes);
                                };
                                return parse(a) - parse(b);
                            })
                            .forEach(date => {
                                const li = document.createElement('li');
                                li.textContent = date;
                                ul.appendChild(li);
                            });
                        div.appendChild(ul);
                    } else {
                        div.innerHTML += '<p>Нет данных по расписанию.</p>';
                    }

                    content.appendChild(div);
                }
            });

            document.getElementById('schedule').style.display = 'block';
        }
    </script>
</body>
</html>
